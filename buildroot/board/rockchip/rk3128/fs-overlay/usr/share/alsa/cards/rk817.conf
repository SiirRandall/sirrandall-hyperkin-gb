#
# Configuration for RK817 driver
#

defaults.pcm.rate_converter "speexrate_medium"
rk817.pcm.default {
        @args [ CARD DEV ]
        @args.CARD {
                type string
                default {
                        @func getenv
                        vars [
                                ALSA_PCM_CARD
                                ALSA_CARD
                        ]

                        default {
                                @func refer
                                name defaults.pcm.card
                        }
                }
        }
        @args.DEV {
                type integer
                default {
                        @func igetenv
                        vars [
                                ALSA_PCM_DEVICE
                        ]

                        default {
                                @func refer
                                name defaults.pcm.device
                        }
                }
        }

	type asym
	playback.pcm {
		type plug
		slave.pcm {
			type softvol
			control {
				name "Master Playback Volume"
				card 0
			}
			min_dB -40.0
			max_dB 0.0
			resolution 100
			slave.pcm {
				type dmix
				# must be unique for all dmix plugins!!!!
				ipc_key 5978293
				ipc_key_add_uid yes
				slave {
					pcm {
						type hw
						card $CARD
						device $DEV
					}
					channels 2
					period_size 1024
					buffer_size 4096
				}
				bindings {
					0 0
					1 1
				}
			}
		}
	}
	capture.pcm {
		type plug
		slave {
			type hw
			card $CARD
			device $DEV
		}
	}
}
